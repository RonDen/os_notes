# XV6同步机制-讨论纪要

> 2020.10.31 讲解：ld 记录： lxk 地点：5号楼4层靠近便利店的自习室

- 同步与互斥的等级？

- XV6中进程在临界区执行时直接关中断，但XV6是多核的，会一次性关闭所有CPU的中断响应吗？

- 检查是否请求特权级是在什么时候进行的？

- pushcli()的逻辑，mycpu()->intena, mycpu()->ncli的作用？

  pushcli()可以被一个进程多次调用，用于申请多个临界资源，mycpu()->ncli表示该进程当前持有临界资源数，**mycpu()->intena的作用暂不清楚。**

- 一个进程关了一个CPU中断其他进程能上该CPU并关中断吗？

  不能，但一个进程可以申请多个锁，并关多次中断。（还值得商榷，具体看第7个问题）

- cpu结构中apicid的含义与作用？

- **用自旋锁实现信号量的探究，以及申请资源不成功时sleep()的调用逻辑？**

- CPU是临界资源吗？

- **当进程处于临界区时需要关中断吗？各个系统如何实现？**

- 自旋锁可以递归申请吗？XV6不能。

- **自旋锁或信号量实现读写锁？**

